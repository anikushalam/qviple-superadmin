import{r as l,j as t}from"./index-33d070a2.js";import{u as v,s,N as j,B as S}from"./Login-751c08d1.js";import{u as _,N}from"./Snackbar-efa26d16.js";function T({userId:m,setUserId:u,setStatus:d}){const{t:a}=_(),[n,p]=l.useState(""),[f]=v(),[g,r]=l.useState(!1),[o,i]=l.useState({msg:"",run:!1}),h=c=>{c.preventDefault(),r(e=>!e),m&&(n==null?void 0:n.length)===4?f({fid:m,otp:{userOtpCode:n}}).then(e=>{e.data.message==="Invalid OTP"?i({msg:"Please enter a valid opt",run:!0}):e.data.user&&(u(e.data.user._id),d("CHANGE_PASSWORD")),r(x=>!x)}).catch({}):(i({msg:a("enter_valid_option"),run:!0}),r(e=>!e))};return t.jsxs(t.Fragment,{children:[t.jsx("form",{onSubmit:h,children:t.jsxs("div",{className:s.card,children:[t.jsx("h6",{className:s.cardhdark,children:a("verification_code")}),t.jsx("p",{className:`${s.pusername} ${s.ptoc}`,children:a("otp_sent_on_mobile")}),t.jsx("div",{className:s.input_margin_top,children:t.jsx(j,{icon:"/images/otp.svg",placeholder:a("verification_code"),name:"insOTP",maxlength:"4",value:n,onChange:c=>p(c.target.value)})}),t.jsx("div",{className:s.btn_containerotp,children:t.jsx(S,{disabled:g,buttonText:a("verify"),customStyleButton:{minHeight:"2.3rem",marginTop:"7rem",backgroundColor:"#575caa"},customStyleButtonText:{fontSize:"1rem"}})})]})}),t.jsx(N,{msg:o.msg,run:o.run,setRun:()=>i({msg:"",run:!1}),postiton:"bottom",type:o.msg==="Invalid OTP"||o.msg==="Please enter a valid opt"?"error":"success"})]})}export{T as default};
